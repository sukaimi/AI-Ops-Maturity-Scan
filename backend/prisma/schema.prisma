generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model Lead {
  id                    String   @id @default(cuid())
  fullName              String
  email                 String
  aiReadinessScore      Float
  automationGapPercent  Float
  roiPotentialPercent   Float
  dealPriority          Float
  decisionPower         Int
  timeline              Int
  costOfPain            Int
  answers               String   // JSON string of all answers
  reportSnippet         String?  @default("")
  reportSections        String?  // JSON string of full report sections
  createdAt             DateTime @default(now())
  
  bookings              Booking[]
  
  @@index([dealPriority])
  @@index([createdAt])
}

model Booking {
  id          String   @id @default(cuid())
  leadId      String
  lead        Lead     @relation(fields: [leadId], references: [id], onDelete: Cascade)
  hoursLost   String
  priority    String
  bringOutline String
  createdAt   DateTime @default(now())
  
  @@index([leadId])
  @@index([createdAt])
}

